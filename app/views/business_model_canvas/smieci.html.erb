<div class="container-fluid py-4">
<div class="row gx-4">
  <div class="col-lg-6">
    <div class="card">
      <div class="card-header pb-0">
        <h6>Timeline with dotted line</h6>
      </div>
      <div class="card-body p-3">
        <div class="timeline timeline-one-side" data-timeline-axis-style="dotted">
          <div class="timeline-block mb-3">
            <span class="timeline-step">
              <i class="ni ni-bell-55 text-success text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">$2400, Design changes</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">22 DEC 7:20 PM</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-success">Design</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step">
              <i class="ni ni-html5 text-danger text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">New order #1832412</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">21 DEC 11 PM</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-danger">Order</span>
              <span class="badge badge-sm bg-gradient-danger">#1832412</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step">
              <i class="ni ni-cart text-info text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">Server payments for April</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">21 DEC 9:34 PM</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-info">Server</span>
              <span class="badge badge-sm bg-gradient-info">Payments</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step">
              <i class="ni ni-credit-card text-warning text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">New card added for order #4395133</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">20 DEC 2:20 AM</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-warning">Card</span>
              <span class="badge badge-sm bg-gradient-warning">#4395133</span>
              <span class="badge badge-sm bg-gradient-warning">Priority</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step">
              <i class="ni ni-key-25 text-primary text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">Unlock packages for development</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">18 DEC 4:54 AM</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-primary">Development</span>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step">
              <i class="ni ni-archive-2 text-success text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">New message unread</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">16 DEC</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-success">Message</span>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step">
              <i class="ni ni-check-bold text-info text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">Notifications unread</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">15 DEC</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step">
              <i class="ni ni-box-2 text-warning text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">New request</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">14 DEC</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-warning">Request</span>
              <span class="badge badge-sm bg-gradient-warning">Priority</span>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step">
              <i class="ni ni-controller text-dark text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-dark text-sm font-weight-bold mb-0">Controller issues</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">13 DEC</p>
              <p class="text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-dark">Controller</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="col-lg-6 mt-4 mt-lg-0">
    <div class="card bg-gradient-dark">
      <div class="card-header bg-transparent pb-0">
        <h6 class="text-white">Timeline dark with dashed line</h6>
      </div>
      <div class="card-body p-3">
        <div class="timeline timeline-one-side" data-timeline-axis-style="dashed">
          <div class="timeline-block mb-3">
            <span class="timeline-step bg-dark">
              <i class="ni ni-bell-55 text-success text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">$2400, Design changes</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">22 DEC 7:20 PM</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-success">Design</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step bg-dark">
              <i class="ni ni-html5 text-danger text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">New order #1832412</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">21 DEC 11 PM</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-danger">Order</span>
              <span class="badge badge-sm bg-gradient-danger">#1832412</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step bg-dark">
              <i class="ni ni-cart text-info text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">Server payments for April</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">21 DEC 9:34 PM</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-info">Server</span>
              <span class="badge badge-sm bg-gradient-info">Payments</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step bg-dark">
              <i class="ni ni-credit-card text-warning text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">New card added for order #4395133</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">20 DEC 2:20 AM</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-warning">Card</span>
              <span class="badge badge-sm bg-gradient-warning">#4395133</span>
              <span class="badge badge-sm bg-gradient-warning">Priority</span>
            </div>
          </div>
          <div class="timeline-block mb-3">
            <span class="timeline-step bg-dark">
              <i class="ni ni-key-25 text-primary text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">Unlock packages for development</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">18 DEC 4:54 AM</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-primary">Development</span>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step bg-dark">
              <i class="ni ni-archive-2 text-success text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">New message unread</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">16 DEC</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-success">Message</span>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step bg-dark">
              <i class="ni ni-check-bold text-info text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">Notifications unread</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">15 DEC</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step bg-dark">
              <i class="ni ni-box-2 text-warning text-gradient"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">New request</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">14 DEC</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-warning">Request</span>
              <span class="badge badge-sm bg-gradient-warning">Priority</span>
            </div>
          </div>
          <div class="timeline-block">
            <span class="timeline-step bg-dark">
              <i class="ni ni-controller text-white"></i>
            </span>
            <div class="timeline-content">
              <h6 class="text-white text-sm font-weight-bold mb-0">Controller issues</h6>
              <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">13 DEC</p>
              <p class="text-secondary text-sm mt-3 mb-2">
                People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
              </p>
              <span class="badge badge-sm bg-gradient-dark">Controller</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<div class="container-fluid py-4">
  <div class="row">
      <div class="col-md-5">
        <div class="card">
          <div class="card-header pb-0">
            <h6><%= @business_idea.title %></h6>
          </div>
          <div class="card-body p-3">
            <div class="timeline timeline-one-side" data-timeline-axis-style="dotted">

                <% @business_idea.stages.order(:created_at).each do |stage| %>
                  <div class="timeline-block mb-3">
                    <span class="timeline-step">
                      <i class="<%= 'fas fa-list-ul text-danger text-gradient' if stage.not_started? %>%"></i>
                      <i class="<%= 'fas fa-spinner fa-spin text-warning text-gradient' if stage.in_progress? %>%"></i>
                      <i class="<%= 'fas fa-check-circle text-success text-gradient' if stage.completed? %>"></i>
                    </span>
                    <div class="timeline-content">
                      <h6 class="text-dark text-sm font-weight-bold mb-0"><%= stage.name %> (<%= stage.stage_type.titleize %>)</h6>
                      <p class="text-secondary font-weight-bold text-xs mt-1 mb-0"><%= Time.now.strftime("%d %b %H:%M") %></p>
                      <p class="text-sm mt-3 mb-2">
                        People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
                      </p>
                      <a href="#" data-bs-toggle="modal" data-bs-target="#<%= stage.name.downcase.gsub(' ', '_') %>" title="<%= stage.name %>">
                      <span class="badge badge-sm bg-gradient-success" size="sm" data-bs-toggle="modal" data-bs-target="#<%= stage.name.downcase.gsub(' ', '_') %>" title="Show details of: <%= stage.name %>">Show </span>
                      <span class="badge badge-sm bg-gradient-danger">Update</span>
                      <span class="badge badge-sm bg-gradient-info">Start...</span>

                      <div class="progress my-2">
                        <div class="progress-bar 
                          <%= 'bg-secondary' if stage.not_started? %>
                          <%= 'bg-warning' if stage.in_progress? %>
                          <%= 'bg-info' if stage.completed? %>"
                          role="progressbar"
                          style="width: <%= stage.completed? ? 100 : (stage.in_progress? ? 50 : 0) %>%"
                          aria-valuenow="<%= stage.completed? ? 100 : (stage.in_progress? ? 50 : 0) %>"
                          aria-valuemin="0"
                          aria-valuemax="100">
                          <%= stage.status.humanize %>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                <% end %>
            
            </div>
          </div>
        </div>
      </div>
      <div class="col-md-5">
        Pizda
      </div>

      <div class="col-md-6">
        <div class="card">
          <%= render @business_idea.business_model_canva, busines_idea: @business_idea %>
        </div>
      </div>
  </div>
</div>




<div class="container-fluid py-4">
  <div class="row gx-4">
    <div class="col-lg-6">
      <div class="card">
        <div class="card-header pb-0">
          <h6><%= @business_idea.title %></h6>
        </div>
        <div class="card-body p-3">
          <div class="timeline timeline-one-side" data-timeline-axis-style="dotted">

            <% @business_idea.stages.order(:created_at).each do |stage| %>
              <div class="timeline-block mb-3">
                <span class="timeline-step">
                  <i class="<%= 'fas fa-list-ul text-danger text-gradient' if stage.not_started? %>"></i>
                  <i class="<%= 'fas fa-spinner fa-spin text-warning text-gradient' if stage.in_progress? %>"></i>
                  <i class="<%= 'fas fa-check-circle text-success text-gradient' if stage.completed? %>"></i>
                </span>

                <div class="timeline-content">
                  <h6 class="text-dark text-sm font-weight-bold mb-0">
                    <%= stage.name %> (<%= stage.stage_type.titleize %>)
                  </h6>
                  <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">
                    <%= Time.now.strftime("%d %b %H:%M") %>
                  </p>

                  <p class="text-sm mt-3 mb-2">
                    <!-- Short description of the stage -->
                    This stage involves key steps for business validation and strategic planning.
                  </p>

                  <!-- ✅ BUTTON SECTION ADDED ✅ -->
                  <div class="d-flex gap-2 mt-2">
                    <%= link_to "View Stage", "#", class: "btn btn-sm btn-info", data: { bs_toggle: "modal", bs_target: "##{stage.name.downcase.gsub(' ', '_')}" } %>
                    <%# link_to "Edit Stage", edit_business_idea_stage_path(@business_idea, stage), class: "btn btn-sm btn-primary" %>
                    <%= link_to "Business Model Canvas", business_idea_business_model_canva_path(@business_idea), class: "btn btn-sm btn-success" %>
                  </div>

                  <!-- ✅ PROGRESS BAR ✅ -->
                  <div class="progress my-2">
                    <div class="progress-bar 
                      <%= 'bg-secondary' if stage.not_started? %>
                      <%= 'bg-warning' if stage.in_progress? %>
                      <%= 'bg-success' if stage.completed? %>"
                      role="progressbar"
                      style="width: <%= stage.completed? ? 100 : (stage.in_progress? ? 50 : 0) %>%"
                      aria-valuenow="<%= stage.completed? ? 100 : (stage.in_progress? ? 50 : 0) %>"
                      aria-valuemin="0"
                      aria-valuemax="100">
                      <%= stage.status.humanize %>
                    </div>
                  </div>

                </div>
              </div>
            <% end %>

          </div>
        </div>
      </div>
    </div>

    <!-- ✅ RIGHT SECTION FOR BUSINESS MODEL CANVAS ✅ -->
    <div class="col-lg-6">
      <div class="card">        <div class="card">
          <div class="card-header pb-0">
            <h6><%= @business_idea.title %></h6>
          </div>
          <div class="card-body p-3">
            <div class="timeline timeline-one-side" data-timeline-axis-style="dotted">

                <% @business_idea.stages.order(:created_at).each do |stage| %>
                  <div class="timeline-block mb-3">
                    <span class="timeline-step">
                      <i class="<%= 'fas fa-list-ul text-danger text-gradient' if stage.not_started? %>%"></i>
                      <i class="<%= 'fas fa-spinner fa-spin text-warning text-gradient' if stage.in_progress? %>%"></i>
                      <i class="<%= 'fas fa-check-circle text-success text-gradient' if stage.completed? %>"></i>
                    </span>
                    <div class="timeline-content">
                      <h6 class="text-dark text-sm font-weight-bold mb-0"><%= stage.name %> (<%= stage.stage_type.titleize %>)</h6>
                      <p class="text-secondary font-weight-bold text-xs mt-1 mb-0"><%= Time.now.strftime("%d %b %H:%M") %></p>
                      <p class="text-sm mt-3 mb-2">
                        People care about how you see the world, how you think, what motivates you, what you’re struggling with or afraid of.
                      </p>
                      <a href="#" data-bs-toggle="modal" data-bs-target="#<%= stage.name.downcase.gsub(' ', '_') %>" title="<%= stage.name %>">
                      <span class="badge badge-sm bg-gradient-success" size="sm" data-bs-toggle="modal" data-bs-target="#<%= stage.name.downcase.gsub(' ', '_') %>" title="Show details of: <%= stage.name %>">Show </span>
                      <span class="badge badge-sm bg-gradient-danger">Update</span>
                      <span class="badge badge-sm bg-gradient-info">Start...</span>

                      <div class="progress my-2">
                        <div class="progress-bar 
                          <%= 'bg-secondary' if stage.not_started? %>
                          <%= 'bg-warning' if stage.in_progress? %>
                          <%= 'bg-info' if stage.completed? %>"
                          role="progressbar"
                          style="width: <%= stage.completed? ? 100 : (stage.in_progress? ? 50 : 0) %>%"
                          aria-valuenow="<%= stage.completed? ? 100 : (stage.in_progress? ? 50 : 0) %>"
                          aria-valuemin="0"
                          aria-valuemax="100">
                          <%= stage.status.humanize %>
                        </div>
                      </div>
                    </div>
                  </div>
                  
                <% end %>
            
            </div>
          </div>
        </div>
        <div class="card-header pb-0">
          <h6>Business Model Canvas</h6>
        </div>
        <div class="card-body p-3">
          <%= render @business_idea.business_model_canva %>
        </div>
      </div>
    </div>

  </div>
</div>
