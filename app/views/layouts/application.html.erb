<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title><%= content_for?(:title) ? yield(:title) : "Startup Business Builder App" %></title>

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%# turbo_include_tags %>  <!-- âœ… Add this here -->

    <!-- Stylesheets -->
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" 
          integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" 
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">

    <!-- Nucleo Icons (Argon Pro) -->
    <link href="https://demos.creative-tim.com/argon-dashboard-pro/assets/css/nucleo-icons.css" rel="stylesheet" />
    <link href="https://demos.creative-tim.com/argon-dashboard-pro/assets/css/nucleo-svg.css" rel="stylesheet" />

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" 
            crossorigin="anonymous"></script>

    <!-- JavaScript -->
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>

    <style>
      /* Custom Loader */
      .loader {
        width: 50px;
        aspect-ratio: 1;
        display: grid;
        display: none;
      }
      .loader:before,
      .loader:after {
        content: "";
        grid-area: 1/1;
        margin: 0 0 15px 15px;
        --c: #0000 calc(100%/3), #046D8B 0 calc(2*100%/3), #0000 0;
        --c1: linear-gradient(90deg, var(--c));
        --c2: linear-gradient(0deg, var(--c));
        background: var(--c1), var(--c2), var(--c1), var(--c2);
        background-size: 300% 4px, 4px 300%;
        background-repeat: no-repeat;
        animation: l12 1s infinite linear;
      }
      .loader:after {
        margin: 15px 15px 0 0;
        transform: scale(-1, -1);
      }
      @keyframes l12 {
        0%   { background-position: 50%  0, 100% 100%, 0    100%, 0 0; }
        25%  { background-position: 0    0, 100% 50%,  0    100%, 0 0; }
        50%  { background-position: 0    0, 100% 0,    50%  100%, 0 0; }
        75%  { background-position: 0    0, 100% 0,    100% 100%, 0 50%; }
        75.01% { background-position: 100% 0, 100% 0, 100% 100%, 0 50%; }
        100% { background-position: 50%  0, 100% 0,    100% 100%, 0 100%; }
      }
      /* Blurred effect */
  <style>
    /* Blurred effect for page during request */
    .blurred {
      filter: blur(5px);
      pointer-events: none;
    }

    /* Full-screen loader */
    #page-loader {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 19999;
      visibility: hidden;
      opacity: 0;
      transition: visibility 0s, opacity 0.3s ease-in-out;
    }

    #page-loader.show {
      visibility: visible;
      opacity: 1;
    }

    /* Infinity Animated Loader */

    .infinity-loader {
      width: 300px;
      height: 200px;
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
    }

    /* Adjusted stroke-dasharray values */
    .infinity-path {
      stroke-dasharray: 2.43px, 242.78px; /* 1% of total length, full length */
      stroke-dashoffset: 0;
      animation: infinity-anim 1.6s linear infinite;
    }

    @keyframes infinity-anim {
      12.5% {
        stroke-dasharray: 34px, 242.78px;  /* 14% of total length */
        stroke-dashoffset: -26.70px;  /* 11% of total length */
      }
      43.75% {
        stroke-dasharray: 85px, 242.78px;  /* 35% of total length */
        stroke-dashoffset: -85px;  /* 35% of total length */
      }
      100% {
        stroke-dasharray: 2.43px, 242.78px; /* Back to start */
        stroke-dashoffset: -240.35px; /* 99% of total length */
      }
    }

  .stepper-container {
    display: flex;
    justify-content: center;
    margin-top: 20px;
  }

  .stepper {
    display: flex;
    list-style: none;
    padding: 0;
    position: relative;
    width: 100%;
    max-width: 900px;
  }

  .stepper li {
    flex: 1;
    text-align: center;
    position: relative;
  }

  .stepper li a {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: #6c757d;
    font-weight: bold;
  }

  .stepper li .step-number {
    background: #ddd;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    font-weight: bold;
  }

  .stepper li.completed .step-number {
    background: #28a745;
    color: white;
  }

  .stepper li:not(:last-child)::after {
    content: '';
    position: absolute;
    width: 100%;
    height: 4px;
    background: #ddd;
    top: 20px;
    left: 50%;
    z-index: -1;
  }

  .stepper li.completed:not(:last-child)::after {
    background: #28a745;
  }
</style>

  </head>

  <body class="g-sidenav-show bg-gray-100">
      <!-- Loader -->
      <div id="page-loader">
        <svg class="infinity-loader" viewBox="0 0 187.3 93.7" preserveAspectRatio="xMidYMid meet">
          <path stroke="#ededed" class="infinity-path" fill="none" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" stroke-miterlimit="10"
                d="M93.9,46.4c9.3,9.5,13.8,17.9,23.5,17.9s17.5-7.8,17.5-17.5s-7.8-17.6-17.5-17.5c-9.7,0.1-13.3,7.2-22.1,17.1 
                  c-8.9,8.8-15.7,17.9-25.4,17.9s-17.5-7.8-17.5-17.5s7.8-17.5,17.5-17.5S86.2,38.6,93.9,46.4z" />
        </svg>
      </div>
    
  <div class="min-height-300 bg-dark position-absolute w-100">
    <!--<div class="position-absolute w-100 min-height-300 top-0" style="background-image: url('https://raw.githubusercontent.com/creativetimofficial/public-assets/master/argon-dashboard-pro/assets/img/profile-layout-header.jpg'); background-position-y: 50%;">
      <span class="mask bg-primary opacity-6"></span>
    </div>-->
  </div>
  
    <%= render 'layouts/partials/aside' %>
   <!-- -------------------------------------------------------------------------------------------- -->
  <main class="main-content position-relative border-radius-lg ">
    <%= render "layouts/partials/navbar" %>

    <% flash.each do |key, message| %>
      <div class="alert <%= key == 'alert' ? 'alert-danger' : 'alert-info' %> mx-3 alert-dismissible fade show text-white" role="alert">
        <strong>Success! </strong><%= message %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
      </div>
    <% end %>

    <%= yield %>

    <%= render "layouts/partials/footer" %>
  </main>


  <%= render "layouts/partials/configurator" %>

  <!-- Github buttons
  <script async defer src="https://buttons.github.io/buttons.js"></script>
   -->
</body>
</html>
